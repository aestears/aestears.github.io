<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function aggregates a data.frame by unique trackIDs so that
each row represents a genet (unique genetic individual) in a given year."><title>aggregateByGenet — aggregateByGenet • plantTracker</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="aggregateByGenet — aggregateByGenet"><meta property="og:description" content="This function aggregates a data.frame by unique trackIDs so that
each row represents a genet (unique genetic individual) in a given year."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">plantTracker</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.0000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Suggested_plantTracker_Workflow.html">Suggested `plantTracker` Workflow</a>
    <a class="dropdown-item" href="../articles/Using_the_plantTracker_trackSpp_function.html">Using the `plantTracker` `trackSpp()` function</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="http://github.com/aestears/plantTracker/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>aggregateByGenet</h1>
      <small class="dont-index">Source: <a href="http://github.com/aestears/plantTracker/blob/HEAD/R/aggregateByGenet.R" class="external-link"><code>R/aggregateByGenet.R</code></a></small>
      <div class="d-none name"><code>aggregateByGenet.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function aggregates a data.frame by unique trackIDs so that
each row represents a genet (unique genetic individual) in a given year.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">aggregateByGenet</span><span class="op">(</span>
  <span class="va">dat</span>,
  site <span class="op">=</span> <span class="st">"Site"</span>,
  quad <span class="op">=</span> <span class="st">"Quad"</span>,
  species <span class="op">=</span> <span class="st">"Species"</span>,
  year <span class="op">=</span> <span class="st">"Year"</span>,
  trackID <span class="op">=</span> <span class="st">"trackID"</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dat</dt>
<dd><p>An sf data.frame. Typically this is a data.frame that has been
returned from the <code><a href="trackSpp.html">trackSpp()</a></code> function, although 'dat' can be any sf
data.frame of plant demographic data in which each genet is given unique
identifying value (what we call here a 'trackID'). If 'dat' already only has
one row for each unique trackID in each unique year (i.e. there are no
vegetative individuals--no ramets), then the output of <code>aggregateByGenet()</code>
will have the same number of rows as 'dat'. If 'dat' has
multiple rows (each of which is a ramet) for the same trackID in the same
year, then the output of <code>aggregateByGenet()</code> will have fewer rows than the
input 'dat' data.frame. 'dat' MUST have columns called 'basalArea_genet',
'age', 'recruit', 'survives_tplus1', 'nearEdge', and 'size_tplus1', although
they can be populated with NAs. The <code><a href="trackSpp.html">trackSpp()</a></code> function adds these columns,
so if you have made no changes to the data.frame that was returned from
<code><a href="trackSpp.html">trackSpp()</a></code>, then your data.frame should have these columns already.</p></dd>
<dt>site</dt>
<dd><p>A character string giving the name of the column in 'dat' that
contains the values for site. The default is "Site".</p></dd>
<dt>quad</dt>
<dd><p>A character string giving the name of the column in 'dat' that
contains the values for quadrat. The default is "Quad".</p></dd>
<dt>species</dt>
<dd><p>A character string giving the name of the column in 'dat' that
contains the values for species. The default is "Species".</p></dd>
<dt>year</dt>
<dd><p>A character string giving the name of the column in 'dat' that
contains the values for year. The default is "Year".</p></dd>
<dt>trackID</dt>
<dd><p>A character string giving the name of the column in 'dat' that
contains the values for the unique identifier, or trackID. The default
is "trackID".</p></dd>
<dt>...</dt>
<dd><p>Other arguments passed on to methods. Not currently used.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An sf data.frame that has been aggregated by genet so that each row
represents one unique genetic individual in one year. This data.frame has
columns containing data for site, quadrat, species, year, and trackID, as
well as columns called 'basalArea_genet', 'age', 'recruit',
'survives_tplus1', 'nearEdge', and 'size_tplus1'. This data.frame will most
likely be shorter than the input 'dat', because a genet that was previously
broken into multiple rows representing each ramet in each year will now have
only one row in each year.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is a <span class="pkg">plantTracker</span>-specific, user-friendly
wrapper for the 'aggregate' function. This function was designed for use
within the <code><a href="trackSpp.html">trackSpp</a></code> function, but can be also called
independently by the user. The function is designed to take a data.frame of
the same format that is returned by <code><a href="trackSpp.html">trackSpp()</a></code>, but it can be used to
aggregate any dataset by genet (or some other unique identifier), as long as
there is a column that identifies genet (or unique identifier) identity for
each observation.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>This function is called inside the <code><a href="trackSpp.html">trackSpp()</a></code> function.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">grasslandData</span><span class="op">[</span><span class="va">grasslandData</span><span class="op">$</span><span class="va">Site</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AZ"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span class="r-in"> <span class="va">grasslandData</span><span class="op">$</span><span class="va">Species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Bouteloua rothrockii"</span>, <span class="st">"Calliandra eriophylla"</span> <span class="op">)</span>,<span class="op">]</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"speciesName"</span></span>
<span class="r-in"><span class="va">inv</span> <span class="op">&lt;-</span> <span class="va">grasslandInventory</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Quad</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"><span class="va">outDat</span> <span class="op">&lt;-</span> <span class="fu"><a href="trackSpp.html">trackSpp</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat</span>,</span>
<span class="r-in"> inv <span class="op">=</span> <span class="va">inv</span>,</span>
<span class="r-in"> dorm <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in"> buff <span class="op">=</span> <span class="fl">.05</span>,</span>
<span class="r-in"> buffGenet <span class="op">=</span> <span class="fl">0.005</span>,</span>
<span class="r-in"> clonal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Species"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">speciesName</span><span class="op">)</span>,</span>
<span class="r-in"> <span class="st">"clonal"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in"> species <span class="op">=</span> <span class="st">"speciesName"</span>,</span>
<span class="r-in"> aggByGenet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span class="r-in"> <span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Site: AZ</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Quadrat: SG2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Species: Bouteloua rothrockii; Calliandra eriophylla</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Note: Individuals in year 1927 have a value of 'NA' in the 'survives_tplus1' and 'size_tplus1' columns because 1927 is the last year of sampling in this quadrat."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -- Quadrat: SG4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---- Species: Bouteloua rothrockii; Calliandra eriophylla</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Note: Individuals in year 1927 have a value of 'NA' in the 'survives_tplus1' and 'size_tplus1' columns because 1927 is the last year of sampling in this quadrat."</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">aggregateByGenet</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">outDat</span>,</span>
<span class="r-in">species <span class="op">=</span> <span class="st">'speciesName'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 346 features and 11 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: GEOMETRY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -0.001386579 ymin: -0.001017592 xmax: 1.000536 ymax: 1.001267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRS:           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First 10 features:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Site Quad          speciesName        trackID Year basalArea_genet recruit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    AZ  SG2 Bouteloua rothrockii  BOUROT_1922_1 1922    9.636323e-04      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    AZ  SG2 Bouteloua rothrockii BOUROT_1922_10 1922    1.250163e-03      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    AZ  SG2 Bouteloua rothrockii BOUROT_1922_11 1922    2.504885e-05      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    AZ  SG2 Bouteloua rothrockii  BOUROT_1922_2 1922    1.765691e-03      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    AZ  SG2 Bouteloua rothrockii  BOUROT_1922_3 1922    8.045954e-04      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    AZ  SG2 Bouteloua rothrockii  BOUROT_1922_3 1924    5.705242e-04      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    AZ  SG2 Bouteloua rothrockii  BOUROT_1922_3 1925    2.482590e-04      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    AZ  SG2 Bouteloua rothrockii  BOUROT_1922_3 1926    8.397793e-04      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    AZ  SG2 Bouteloua rothrockii  BOUROT_1922_3 1927    1.427247e-03      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   AZ  SG2 Bouteloua rothrockii  BOUROT_1922_4 1922    7.043062e-04      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    survives_tplus1 age  size_tplus1 nearEdge                       geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                0  NA           NA     TRUE POLYGON ((0.9556098 0.07696...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                0  NA           NA    FALSE POLYGON ((0.6691549 0.24262...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                0  NA           NA    FALSE POLYGON ((0.6470947 0.51129...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                0  NA           NA     TRUE POLYGON ((0.9843703 0.37799...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                1  NA 0.0005705242     TRUE POLYGON ((0.8766142 0.95972...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                1  NA 0.0002482590     TRUE POLYGON ((0.8232826 0.97669...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                1  NA 0.0008397793     TRUE POLYGON ((0.8734301 0.94362...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                1  NA 0.0014272470     TRUE POLYGON ((0.8896559 0.93777...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9               NA  NA           NA     TRUE MULTIPOLYGON (((0.8745275 0...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10               0  NA           NA    FALSE POLYGON ((0.1223214 0.70317...</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alice Stears, Jared Studyvin, David Atkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

