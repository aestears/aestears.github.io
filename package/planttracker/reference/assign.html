<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function tracks individual organisms through time, but only
for one species in one quadrat. It is designed for use within the
trackSpp function, and is not intended for use on its own."><title>Tracks genets through time — assign • plantTracker</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tracks genets through time — assign"><meta property="og:description" content="This function tracks individual organisms through time, but only
for one species in one quadrat. It is designed for use within the
trackSpp function, and is not intended for use on its own."><meta property="og:image" content="http://www.astearsresearch.com/package/plantTracker/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">plantTracker</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Suggested_plantTracker_Workflow.html">Suggested `plantTracker` Workflow</a>
    <a class="dropdown-item" href="../articles/Using_the_plantTracker_trackSpp_function.html">Using the `plantTracker` `trackSpp()` function</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/aestears/plantTracker/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tracks genets through time</h1>
      <small class="dont-index">Source: <a href="https://github.com/aestears/plantTracker/blob/HEAD/R/assign.R" class="external-link"><code>R/assign.R</code></a></small>
      <div class="d-none name"><code>assign.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function tracks individual organisms through time, but only
for one species in one quadrat. It is designed for use within the
<code><a href="trackSpp.html">trackSpp</a></code> function, and is not intended for use on its own.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">assign</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">inv</span>,</span>
<span>  <span class="va">dorm</span>,</span>
<span>  <span class="va">buff</span>,</span>
<span>  <span class="va">buffGenet</span>,</span>
<span>  <span class="va">clonal</span>,</span>
<span>  flagSuspects <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  shrink <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  dormSize <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  inheritsFromTrackSpp <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nearEdgeBox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dat</dt>
<dd><p>An sf data.frame of the same format as
<code><a href="grasslandData.html">grasslandData</a></code>. 'dat' must contain data for only one species in
one quadrat. It must have columns that contain...</p><ul><li><p>a unique identification for each research site in character format
with no NAs (the default column name is "Site")</p></li>
<li><p>species name in character format with no NAs (the default column
name is "Species")</p></li>
<li><p>unique quadrat identifier in character format with no NAs (the default
column name is "Quad")</p></li>
<li><p>year of data collection in integer format with no NAs (the
default column name is "Year")</p></li>
<li><p>an s.f 'geometry' column that contains a= polygon or multipolygon data type
for each individual observation (the default column name is "geometry")</p></li>
</ul><p>This function will add columns called "basalArea_ramet", "trackID",
"age", "size_tplus1", "recruit" and "survives_tplus1", so 'dat' should not
contain columns with these names.</p></dd>


<dt>inv</dt>
<dd><p>An integer vector that contains all of years in which this quadrat
(or other unique spatial area) was sampled. Years must be
ordered sequentially.</p></dd>


<dt>dorm</dt>
<dd><p>A numeric vector of length 1, indicating the number of years this
species is allowed to go dormant, i.e. be absent from the map but be
considered the same individual when it reappears. This must be an integer
greater than or equal to 0.</p></dd>


<dt>buff</dt>
<dd><p>A numeric vector of length 1 that is greater than or equal to
zero, indicating how far (in the same units as spatial values in 'dat') a
polygon can move from year <code>t</code> to year <code>t+1</code> and still be
considered the same individual.</p></dd>


<dt>buffGenet</dt>
<dd><p>A numeric vector of length 1 that is greater than or equal
to zero, indicating how close (in the same units as spatial values in 'dat')
polygons must be to one another in the same year to be grouped as a genet
(if 'clonal' argument = TRUE). This argument is passed to
the <code><a href="groupByGenet.html">groupByGenet</a></code> function, which is used inside the
<code>assign</code> function.</p></dd>


<dt>clonal</dt>
<dd><p>A logical argument of length 1, indicating whether this
species is allowed to be clonal or not (i.e. if multiple polygons (ramets)
can be grouped into one individual (genet)). If clonal = TRUE, the species is
allowed to be clonal, and if clonal = FALSE, the species is not allowed to
be clonal.</p></dd>


<dt>flagSuspects</dt>
<dd><p>A logical argument of length 1, indicating whether
observations that are 'suspect' will be flagged. The default is
<code>flagSuspects = FALSE</code>. If <code>flagSuspects = TRUE</code>, then a column called
'Suspect' is added to the output data.frame. Any suspect observations get a
'TRUE' in the 'Suspect' column, while non-suspect observations receive a
'FALSE'. There are two ways that an observation can be classified as
'suspect'. First, if two consecutive observations have the same trackID, but
the basal area of the observation in year <code>t+1</code> is less that a certain
percentage (defined by the <code>shrink</code> arg.) of the basal area of the
observation in year t, it is possible that the observation in year <code>t+1</code>
is a new recruit and not the same individual. The second way an observation
can be classified as 'suspect' is if it is very small before going dormant.
It is unlikely that a very small individual will survive dormancy, so it is
possible that the function has mistakenly given a survival value of '1' to
this individual. A 'very small individual' is any observation with an area
below a certain percentile (specified by 'dormSize') of the size distribution
for this species, which is generated using all of the size data for this
species in 'dat'.</p></dd>


<dt>shrink</dt>
<dd><p>A single numeric value. This value is only used when
<code>flagSuspects = TRUE</code>. When two consecutive observations have the same
trackID, and the ratio of size_t+1 to size_t is smaller than the value of
<code>shrink</code>, the observation in year <code>t</code> gets a 'TRUE' in the 'Suspect'
column. For example, <code>shrink = 0.2</code>, and an individual that the tracking
function has identified as 'BOUGRA_1992_5' has an area of 9 cm^2 in
year <code>t</code> and an area of 1.35 cm^2 in year <code>t+1</code>. The ratio of
size <code>t+1</code> to size <code>t</code> is 1.35/9 = 0.15, which is smaller than the
cutoff specified by <code>shrink</code>, so the observation of BOUGRA_1992_5' in year
<code>t</code> gets a 'TRUE' in the 'Suspect' column. The default value
is <code>shrink = 0.10</code>.</p></dd>


<dt>dormSize</dt>
<dd><p>A single numeric value. This value is only used when
<code>flagSuspects = TRUE</code> and <code>dorm</code> is greater than or equal to 1. An individual
is flagged as 'suspect'
if it 'goes dormant' and has a size that is less than or equal to the
percentile of the size distribution for this species that is designated by
<code>dormSize</code>. For example, <code>dormSize = 0.05</code>, and the focal individual has a
basal area of 0.5 cm^2. The 5th percentile of the distribution of size for
this species, which is made using the mean and standard deviation of all
observations in 'dat' for the species in question, is 0.6 cm^2. This
individual does not have any overlaps in the next year (year <code>t+1</code>), but
does have an overlap in year <code>t+2</code>. However, because the basal area of
this observation is smaller than the 5th percentile of size for this species,
the observation in year <code>t</code> will get a 'TRUE' in the 'Suspect' column.
It is possible that the tracking function has mistakenly assigned a '1' for
survival in year t, because it is unlikely that this individual is large
enough to survive dormancy. The default value is <code>dormSize = .05</code>.</p></dd>


<dt>inheritsFromTrackSpp</dt>
<dd><p>A logical argument that is only applicable when
'assign()' is used internally in 'trackSpp()'.</p></dd>


<dt>nearEdgeBox</dt>
<dd><p>An sf data frame indicating the bounding box of the
quadrat. This argument is only used if 'assign()' is used internally
in 'trackSpp()'.</p></dd>


<dt>...</dt>
<dd><p>Other arguments passed on to methods. Not currently used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>see <code><a href="trackSpp.html">trackSpp</a></code> for details of arguments and usage.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="trackSpp.html">trackSpp()</a></code>, which is a wrapper for the <code>assign()</code> function that
applies it over many species and quadrats. The <code>assign()</code> function uses the
<code><a href="groupByGenet.html">groupByGenet()</a></code> function to group ramets into genets
(if 'clonal' argument = TRUE).</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alice Stears, Jared Studyvin, David Atkins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

